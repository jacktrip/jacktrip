<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg
   width="800"
   height="400"
   version="1.1"
   id="svg31"
   sodipodi:docname="switching.svg"
   inkscape:export-filename="switching.png"
   inkscape:export-xdpi="96"
   inkscape:export-ydpi="96"
   inkscape:version="1.4.2 (ebf0e940d0, 2025-05-08)"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
  <defs
     id="defs31" />
  <sodipodi:namedview
     id="namedview31"
     pagecolor="#ffffff"
     bordercolor="#000000"
     borderopacity="0.25"
     inkscape:showpageshadow="2"
     inkscape:pageopacity="0.0"
     inkscape:pagecheckerboard="0"
     inkscape:deskcolor="#d1d1d1"
     inkscape:zoom="1.2325"
     inkscape:cx="400"
     inkscape:cy="200"
     inkscape:window-width="1280"
     inkscape:window-height="737"
     inkscape:window-x="0"
     inkscape:window-y="0"
     inkscape:window-maximized="1"
     inkscape:current-layer="svg31" />
  <!-- Main timeline -->
  <line
     x1="50"
     y1="200"
     x2="750"
     y2="200"
     stroke="black"
     stroke-width="2"
     fill="none"
     id="line1" />
  <polygon
     points="745,195 750,200 745,205"
     fill="black"
     id="polygon1" />
  <text
     x="760"
     y="205"
     font-family="sans-serif"
     font-size="12"
     id="text1">Time</text>
  <!-- Time markers -->
  <line
     x1="100"
     y1="190"
     x2="100"
     y2="210"
     stroke="black"
     stroke-width="1"
     id="line2" />
  <text
     x="100"
     y="225"
     font-family="sans-serif"
     font-size="10"
     text-anchor="middle"
     id="text2">t-3</text>
  <line
     x1="200"
     y1="190"
     x2="200"
     y2="210"
     stroke="black"
     stroke-width="1"
     id="line3" />
  <text
     x="200"
     y="225"
     font-family="sans-serif"
     font-size="10"
     text-anchor="middle"
     id="text3">t-2</text>
  <line
     x1="300"
     y1="190"
     x2="300"
     y2="210"
     stroke="black"
     stroke-width="1"
     id="line4" />
  <text
     x="300"
     y="225"
     font-family="sans-serif"
     font-size="10"
     text-anchor="middle"
     id="text4">t-1</text>
  <line
     x1="400"
     y1="190"
     x2="400"
     y2="210"
     stroke="black"
     stroke-width="2"
     id="line5" />
  <text
     x="400"
     y="225"
     font-family="sans-serif"
     font-size="10"
     text-anchor="middle"
     id="text5">now</text>
  <line
     x1="500"
     y1="190"
     x2="500"
     y2="210"
     stroke="black"
     stroke-width="1"
     id="line6" />
  <text
     x="500"
     y="225"
     font-family="sans-serif"
     font-size="10"
     text-anchor="middle"
     id="text6">t+1</text>
  <line
     x1="600"
     y1="190"
     x2="600"
     y2="210"
     stroke="black"
     stroke-width="1"
     id="line7" />
  <text
     x="600"
     y="225"
     font-family="sans-serif"
     font-size="10"
     text-anchor="middle"
     id="text7">t+2</text>
  <!-- Tolerance window boundary lines -->
  <line
     x1="320"
     y1="120"
     x2="320"
     y2="280"
     stroke="black"
     stroke-width="1"
     stroke-dasharray="5,5"
     id="line8" />
  <line
     x1="480"
     y1="120"
     x2="480"
     y2="280"
     stroke="black"
     stroke-width="1"
     stroke-dasharray="5,5"
     id="line9" />
  <!-- Tolerance window label -->
  <text
     x="400"
     y="110"
     font-family="sans-serif"
     font-size="11"
     text-anchor="middle"
     id="text9">Tolerance Window</text>
  <line
     x1="330"
     y1="115"
     x2="470"
     y2="115"
     stroke="black"
     stroke-width="1"
     id="line10" />
  <line
     x1="330"
     y1="110"
     x2="330"
     y2="120"
     stroke="black"
     stroke-width="1"
     id="line11" />
  <line
     x1="470"
     y1="110"
     x2="470"
     y2="120"
     stroke="black"
     stroke-width="1"
     id="line12" />
  <!-- Packet arrivals as simple circles -->
  <circle
     cx="150"
     cy="160"
     r="5"
     fill="none"
     stroke="black"
     stroke-width="2"
     id="circle12" />
  <text
     x="150"
     y="145"
     font-family="sans-serif"
     font-size="10"
     text-anchor="middle"
     id="text12">P1</text>
  <circle
     cx="340"
     cy="180"
     r="5"
     fill="none"
     stroke="black"
     stroke-width="2"
     id="circle13" />
  <text
     x="340"
     y="165"
     font-family="sans-serif"
     font-size="10"
     text-anchor="middle"
     id="text13">P2</text>
  <circle
     cx="380"
     cy="170"
     r="5"
     fill="none"
     stroke="black"
     stroke-width="2"
     id="circle14" />
  <text
     x="380"
     y="155"
     font-family="sans-serif"
     font-size="10"
     text-anchor="middle"
     id="text14">P3</text>
  <!-- Selected packet (filled circle) -->
  <circle
     cx="420"
     cy="175"
     r="5"
     fill="black"
     stroke="black"
     stroke-width="2"
     id="circle15" />
  <text
     x="420"
     y="160"
     font-family="sans-serif"
     font-size="10"
     text-anchor="middle"
     id="text15">P4</text>
  <text
     x="420"
     y="145"
     font-family="sans-serif"
     font-size="9"
     text-anchor="middle"
     id="text16">SELECTED</text>
  <circle
     cx="550"
     cy="165"
     r="5"
     fill="none"
     stroke="black"
     stroke-width="2"
     id="circle16" />
  <text
     x="550"
     y="150"
     font-family="sans-serif"
     font-size="10"
     text-anchor="middle"
     id="text17">P5</text>
  <!-- Audio callback vertical line -->
  <line
     x1="400"
     y1="270"
     x2="400"
     y2="320"
     stroke="black"
     stroke-width="3"
     id="line17" />
  <text
     x="400"
     y="335"
     font-family="sans-serif"
     font-size="10"
     text-anchor="middle"
     id="text18">Audio Callback</text>
  <!-- Previous and next callbacks (thinner) -->
  <line
     x1="250"
     y1="275"
     x2="250"
     y2="315"
     stroke="black"
     stroke-width="1"
     id="line18" />
  <line
     x1="550"
     y1="275"
     x2="550"
     y2="315"
     stroke="black"
     stroke-width="1"
     id="line19" />
  <!-- Skip indication for P1 -->
  <line
     x1="150"
     y1="140"
     x2="180"
     y2="120"
     stroke="black"
     stroke-width="1"
     id="line20" />
  <line
     x1="180"
     y1="120"
     x2="200"
     y2="130"
     stroke="black"
     stroke-width="1"
     id="line21" />
  <text
     x="175"
     y="115"
     font-family="sans-serif"
     font-size="8"
     text-anchor="middle"
     id="text21">SKIP</text>
  <!-- Selection arrow pointing down to P4 -->
  <line
     x1="420"
     y1="135"
     x2="420"
     y2="165"
     stroke="black"
     stroke-width="2"
     id="line22" />
  <polygon
     points="415,160 420,170 425,160"
     fill="black"
     id="polygon22" />
  <!-- Legend box -->
  <rect
     x="50"
     y="30"
     width="180"
     height="70"
     fill="none"
     stroke="black"
     stroke-width="1"
     id="rect22" />
  <text
     x="55"
     y="45"
     font-family="sans-serif"
     font-size="10"
     font-weight="bold"
     id="text22">Legend:</text>
  <circle
     cx="65"
     cy="55"
     r="3"
     fill="none"
     stroke="black"
     stroke-width="1"
     id="circle22" />
  <text
     x="75"
     y="58"
     font-family="sans-serif"
     font-size="9"
     id="text23">Packet arrival</text>
  <circle
     cx="65"
     cy="68"
     r="3"
     fill="black"
     stroke="black"
     stroke-width="1"
     id="circle23" />
  <text
     x="75"
     y="71"
     font-family="sans-serif"
     font-size="9"
     id="text24">Selected packet</text>
  <line
     x1="140"
     y1="55"
     x2="155"
     y2="55"
     stroke="black"
     stroke-width="1"
     stroke-dasharray="3,3"
     id="line24" />
  <text
     x="160"
     y="58"
     font-family="sans-serif"
     font-size="9"
     id="text25">Tolerance bounds</text>
  <!-- Algorithm steps -->
  <rect
     x="520"
     y="30"
     width="220"
     height="90"
     fill="none"
     stroke="black"
     stroke-width="1"
     id="rect25" />
  <text
     x="525"
     y="45"
     font-family="sans-serif"
     font-size="10"
     font-weight="bold"
     id="text26">Algorithm Steps:</text>
  <text
     x="525"
     y="58"
     font-family="sans-serif"
     font-size="9"
     id="text27">1. Check age vs tolerance</text>
  <text
     x="525"
     y="71"
     font-family="sans-serif"
     font-size="9"
     id="text28">2. Skip old packets</text>
  <text
     x="525"
     y="84"
     font-family="sans-serif"
     font-size="9"
     id="text29">3. Select best candidate</text>
  <text
     x="525"
     y="97"
     font-family="sans-serif"
     font-size="9"
     id="text30">4. Update sequence number</text>
  <text
     x="525"
     y="110"
     font-family="sans-serif"
     font-size="9"
     id="text31">5. Output or predict</text>
</svg>
